<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Backend API</title>
</head>
<body>
    <img alt="??" id="image">
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script>
        // const socket = io('http://192.168.1.137:2599');
        const socket = io('http://1.53.107.140:2599');
        socket.on('image', (image) => {
            var imageEl = document.getElementById('image');

            if(imageEl.src === null || imageEl === undefined || imageEl.src === '') {
                var announceEl = document.createElement('h1');
                var announceNode = document.createTextNode('Streaming is now offline');

                announceEl.appendChild(announceNode);            
            }

            
            imageEl.src = `data:image/jpeg;base64,${image}`;
        })
    </script>
</body>
</html>